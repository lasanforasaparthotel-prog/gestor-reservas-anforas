<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Las Ánforas Apart Hotel & Padel - Tu Escapada Perfecta en Ituzaingó</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Reserva tu estadía en Las Ánforas, apart hotel con cancha de pádel en Ituzaingó, Corrientes. Dúplex cómodos y seguros para una escapada perfecta.">
    <meta name="keywords" content="apart hotel ituzaingó, alquiler ituzaingó corrientes, cabañas con pádel, alojamiento en ituzaingó, las anforas apart, vacaciones en corrientes">
    
    <!-- Open Graph Meta Tags (for social media sharing) -->
    <meta property="og:title" content="Las Ánforas Apart Hotel & Padel">
    <meta property="og:description" content="Reserva tu estadía en un lugar cómodo, seguro y tranquilo. ¡Tu escapada perfecta te espera!">
    <meta property="og:image" content="playa.jpg">
    <meta property="og:url" content="https://your-domain.com/"> <!-- UPDATE THIS WITH YOUR DOMAIN -->
    <meta property="og:type" content="website">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; }
        .font-brand { font-family: 'Playfair Display', serif; }
        .step-transition { transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out; }
        .step-hidden { opacity: 0; transform: translateY(20px); position: absolute; width: 100%; pointer-events: none; }
        .calendar-day { transition: all 0.2s ease-in-out; }
        .calendar-day:not(.disabled):hover { background-color: #14b8a6; color: white; transform: scale(1.1); }
        .selected { background-color: #0f766e; color: white; border-radius: 50%; }
        .in-range { background-color: #ccfbf1; color: #134e4a; border-radius: 0; }
        .start-range { background-color: #0f766e; color: white; border-top-left-radius: 50%; border-bottom-left-radius: 50%; }
        .end-range { background-color: #0f766e; color: white; border-top-right-radius: 50%; border-bottom-right-radius: 50%; }
        .disabled { color: #a8a29e; cursor: not-allowed; background-color: #f5f5f4; text-decoration: line-through; }
        .hero-bg { background-image: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('playa.jpg'); background-size: cover; background-position: center; }
        /* Swiper Styles */
        .swiper-button-next, .swiper-button-prev { color: white !important; }
        .swiper-pagination-bullet-active { background: white !important; }
        /* Marquee Animation */
        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-150%); }
        }
        .marquee-text {
            animation: marquee 30s linear infinite;
        }
    </style>
</head>
<body class="bg-stone-50 text-slate-800 antialiased">
    
    <!-- Header -->
    <header class="bg-white/90 backdrop-blur-lg fixed top-0 left-0 right-0 z-50 shadow-sm">
        <div class="container mx-auto max-w-6xl px-4">
            <div class="flex justify-between items-center py-2">
                <a href="#">
                    <img src="image_9edd27.png" alt="Logo Las Ánforas" class="h-16 w-auto">
                </a>
                <a href="#reservar" class="bg-teal-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-teal-700 transition-colors">
                    Reservar
                </a>
            </div>
        </div>
    </header>

    <main class="pt-20 pb-24 md:pb-0">
        <!-- Marquee Banner -->
        <div class="bg-teal-700 text-white py-2 overflow-x-hidden">
            <p class="marquee-text whitespace-nowrap text-sm font-semibold">
                <span class="mx-8">*** PROMO 3x2 FINES DE SEMANA: VENÍ 3 DÍAS Y PAGÁ SÓLO 2 ***</span>
                <span class="mx-8">*** RESERVAS ANTICIPADAS: ¡APROVECHÁ LAS TARIFAS VIGENTES! ***</span>
                <span class="mx-8">*** +7 DÍAS 10% DE DESCUENTO ***</span>
                 <span class="mx-8">*** +5 NOCHES 1 HORA DE PÁDEL GRATIS POR DÍA ***</span>
            </p>
        </div>

        <!-- Hero Section -->
        <section class="hero-bg text-white pt-20 pb-20 text-center">
            <div class="container mx-auto max-w-4xl px-4">
                <h1 class="text-4xl md:text-6xl font-brand leading-tight">Tu Escapada Perfecta</h1>
                <p class="mt-4 text-lg md:text-xl text-slate-200">
                  Disfruta de la comodidad de nuestros dúplex, juega al pádel y vive una experiencia inolvidable.
                </p>
                <a href="#reservar" class="mt-8 inline-block bg-white text-teal-600 font-bold py-3 px-8 rounded-lg text-lg hover:bg-slate-100 transition-colors">
                    ¡Reservar Ahora!
                </a>
            </div>
        </section>

        <!-- Services Section -->
        <section class="py-16 bg-stone-100">
            <div class="container mx-auto max-w-6xl px-4">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-brand">Comodidad y Ubicación Privilegiada</h2>
                    <p class="mt-2 text-slate-500">Todo lo que necesitas, a solo unos pasos.</p>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-8 text-center">
                    <div class="flex flex-col items-center">
                        <div class="bg-white p-4 rounded-full shadow-md">
                           <svg class="w-10 h-10 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg>
                        </div>
                        <h3 class="mt-3 font-bold text-lg">Complejo Seguro</h3>
                        <p class="text-slate-500 text-sm">Recinto cerrado con cámaras de seguridad para tu tranquilidad.</p>
                    </div>
                     <div class="flex flex-col items-center">
                        <div class="bg-white p-4 rounded-full shadow-md">
                           <svg class="w-10 h-10 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        </div>
                        <h3 class="mt-3 font-bold text-lg">Cerca de Todo</h3>
                         <p class="text-slate-500 text-sm">A 3 cuadras de playas, costanera y centro.</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="bg-white p-4 rounded-full shadow-md">
                            <svg class="w-10 h-10 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                        </div>
                         <h3 class="mt-3 font-bold text-lg">Servicios a 100 mts</h3>
                         <p class="text-slate-500 text-sm">Supermercados, farmacias, plazas y restaurantes.</p>
                    </div>
                    <div class="flex flex-col items-center col-span-2 md:col-span-1">
                        <div class="bg-white p-4 rounded-full shadow-md">
                           <svg class="w-10 h-10 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                        </div>
                        <h3 class="mt-3 font-bold text-lg">Tour a Yacyretá</h3>
                        <p class="text-slate-500 text-sm">A 400 mts del centro de visitantes para el tour gratuito a la represa.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Booking Section -->
        <section id="reservar" class="py-20">
            <div class="container mx-auto max-w-4xl px-4">
                 <div class="text-center mb-12">
                    <h2 class="text-4xl font-brand">Calcula tu Tarifa y Reserva</h2>
                    <p class="mt-2 text-slate-500">Sigue estos simples pasos para asegurar tu lugar en Las Ánforas.</p>
                </div>
                <main id="booking-app" class="bg-white rounded-2xl shadow-xl p-6 md:p-8 w-full">
                    <div id="progress-bar" class="w-full bg-slate-200 rounded-full h-2.5 mb-8">
                        <div id="progress-indicator" class="bg-teal-600 h-2.5 rounded-full" style="width: 16.6%; transition: width 0.5s ease-in-out;"></div>
                    </div>
                    
                    <div class="relative min-h-[520px]">
                        <!-- Step 1: Select Duplex -->
                        <div id="step-1" class="step-transition">
                            <h2 class="text-2xl font-bold mb-1">Elige tu Dúplex</h2>
                            <p class="text-slate-500 mb-6">Selecciona dónde te gustaría hospedarte.</p>
                            <div class="space-y-4">
                                <div onclick="selectDuplex('duplex3')" class="cursor-pointer border-2 border-slate-200 p-4 rounded-xl hover:border-teal-500 hover:bg-teal-50 transition-all group">
                                    <h3 class="text-lg font-semibold text-slate-900">Dúplex 3 (Hasta 5 personas)</h3>
                                    <p class="text-slate-600">Ideal para familias o grupos. Cuenta con 2 dormitorios separados para mayor privacidad y comodidad.</p>
                                </div>
                                <div onclick="selectDuplex('duplex2')" class="cursor-pointer border-2 border-slate-200 p-4 rounded-xl hover:border-teal-500 hover:bg-teal-50 transition-all group">
                                     <div class="flex justify-between items-center">
                                        <h3 class="text-lg font-semibold text-slate-900">Dúplex 2 (Hasta 6 personas)</h3>
                                        <span id="promo-badge" class="hidden bg-amber-100 text-amber-800 text-xs font-medium px-2.5 py-0.5 rounded-full">PROMO FINDE</span>
                                    </div>
                                    <p class="text-slate-600 mt-1">Nuestro espacio más amplio, con un dormitorio familiar grande, perfecto para disfrutar todos juntos.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: Select Dates -->
                        <div id="step-2" class="step-transition step-hidden">
                            <h2 class="text-2xl font-bold mb-1">Selecciona las Fechas</h2>
                            <p id="date-subtitle" class="text-slate-500 mb-6">Elige tu fecha de llegada y salida.</p>
                            <div id="calendar-container" class="w-full">
                                <div class="flex justify-between items-center mb-4">
                                    <button id="prev-month" class="p-2 rounded-full hover:bg-slate-100">&lt;</button>
                                    <h3 id="month-year" class="text-lg font-semibold"></h3>
                                    <button id="next-month" class="p-2 rounded-full hover:bg-slate-100">&gt;</button>
                                </div>
                                <div id="calendar-grid" class="grid grid-cols-7 gap-1 text-center"></div>
                            </div>
                            <div class="mt-6 hidden md:flex justify-between items-center">
                                <button onclick="changeStep(1)" class="text-slate-600 hover:text-slate-900 font-medium">Volver</button>
                                <button id="date-next-btn" onclick="changeStep(3)" class="bg-teal-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-teal-700 transition-colors disabled:bg-slate-300 disabled:cursor-not-allowed" disabled>Siguiente</button>
                            </div>
                        </div>

                        <!-- Step 3: Guests & Extras -->
                        <div id="step-3" class="step-transition step-hidden">
                            <h2 class="text-2xl font-bold mb-1">Huéspedes y Extras</h2>
                            <p class="text-slate-500 mb-6">Completa los detalles de tu estadía.</p>
                            <div class="space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="guests-select" class="block font-medium mb-2">Adultos y Niños (pagan)</label>
                                        <select id="guests-select" class="w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500"></select>
                                    </div>
                                    <div>
                                        <label for="babies-select" class="block font-medium mb-2">Bebés (&lt;36 meses, no pagan)</label>
                                        <select id="babies-select" class="w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500"></select>
                                    </div>
                                </div>
                                <div>
                                    <label for="padel" class="block font-medium mb-2">Horas de Pádel Adicionales</label>
                                    <input id="padel" type="number" min="0" value="0" class="w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500">
                                     <p class="text-sm text-slate-500 mt-1">Recuerda: tienes un 20% de descuento.</p>
                                </div>
                                 <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="pets-select" class="block font-medium mb-2">¿Trae mascotas?</label>
                                        <select id="pets-select" class="w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500">
                                            <option value="no">No</option>
                                            <option value="si">Sí</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label for="vehicles-select" class="block font-medium mb-2">¿Ingresa vehículo?</label>
                                        <select id="vehicles-select" class="w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500">
                                            <option value="no">No</option>
                                            <option value="si">Sí</option>
                                        </select>
                                    </div>
                                </div>
                                <div id="towel-discount-container" class="flex items-center justify-between p-3 bg-stone-100 rounded-lg">
                                    <label for="towel-discount-checkbox" class="font-medium flex-grow">¿Querés ahorrar? Traé tus sábanas y toallones</label>
                                    <input id="towel-discount-checkbox" type="checkbox" class="h-6 w-6 rounded text-teal-600 focus:ring-teal-500">
                                </div>
                                <div id="late-checkout-container" class="items-center justify-between p-3 bg-stone-100 rounded-lg hidden">
                                    <label for="late-checkout" class="font-medium flex-grow">Añadir Salida Extendida (Domingo 18hs)</label>
                                    <input id="late-checkout" type="checkbox" class="h-6 w-6 rounded text-teal-600 focus:ring-teal-500">
                                </div>
                            </div>
                            <!-- Promo Alert -->
                            <div id="promo-alert" class="hidden mt-6 p-4 bg-green-50 border border-green-200 text-green-800 rounded-lg">
                                <h4 class="font-bold">¡Beneficios por tu estadía!</h4>
                                <p id="promo-alert-text" class="text-sm mt-1"></p>
                            </div>
                             <div class="mt-8 hidden md:flex justify-between items-center">
                                <button onclick="changeStep(2)" class="text-slate-600 hover:text-slate-900 font-medium">Volver</button>
                                <button onclick="changeStep(4)" class="bg-teal-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-teal-700 transition-colors">Siguiente</button>
                            </div>
                        </div>
        
                        <!-- Step 4: Personal Info -->
                        <div id="step-4" class="step-transition step-hidden">
                            <h2 class="text-2xl font-bold mb-1">Tus Datos</h2>
                            <p class="text-slate-500 mb-6">Necesitamos estos datos para la reserva.</p>
                            <div class="space-y-4">
                                <div>
                                    <label for="first-name" class="block font-medium mb-1">Nombre</label>
                                    <input type="text" id="first-name" class="w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500" placeholder="Juan">
                                </div>
                                <div>
                                    <label for="last-name" class="block font-medium mb-1">Apellido</label>
                                    <input type="text" id="last-name" class="w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500" placeholder="Pérez">
                                </div>
                                <div>
                                    <label for="phone" class="block font-medium mb-1">Celular</label>
                                    <input type="tel" id="phone" class="w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500" placeholder="11 2345 6789">
                                </div>
                                <div class="flex items-center space-x-2 pt-2">
                                    <input type="checkbox" id="send-email-checkbox" class="h-5 w-5 rounded text-teal-600 focus:ring-teal-500">
                                    <label for="send-email-checkbox" class="font-medium">Enviarme una copia de la reserva por email</label>
                                </div>
                                <div id="email-input-container" class="hidden">
                                    <label for="email" class="block font-medium mb-1">Tu Email</label>
                                    <input type="email" id="email" class="w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500" placeholder="juan.perez@email.com">
                                </div>
                            </div>
                            <div class="mt-8 hidden md:flex justify-between items-center">
                                <button onclick="changeStep(3)" class="text-slate-600 hover:text-slate-900 font-medium">Volver</button>
                                <button id="info-next-btn" onclick="calculateQuote(); changeStep(5);" class="bg-teal-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-teal-700 transition-colors disabled:bg-slate-300" disabled>Ver Cotización</button>
                            </div>
                        </div>
        
                        <!-- Step 5: Quote -->
                        <div id="step-5" class="step-transition step-hidden">
                            <h2 class="text-2xl font-bold mb-1">Tu Cotización</h2>
                            <p class="text-slate-500 mb-6">Este es el resumen de tu reserva.</p>
                            <div id="quote-summary" class="space-y-2 text-slate-700"></div>
                             <div class="mt-8 hidden md:flex justify-between items-center">
                                <button onclick="changeStep(4)" class="text-slate-600 hover:text-slate-900 font-medium">Volver</button>
                                <button onclick="preparePayment(); changeStep(6);" class="bg-teal-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-teal-700 transition-colors">Confirmar y Pagar</button>
                            </div>
                            <div class="text-center mt-4 hidden md:block">
                                <button onclick="resetAndGoToStep(1)" class="text-teal-600 hover:text-teal-800 text-sm font-medium">← Volver a cotizar</button>
                            </div>
                        </div>
        
                        <!-- Step 6: Payment -->
                        <div id="step-6" class="step-transition step-hidden">
                            <h2 class="text-2xl font-bold mb-1">Elige cómo Pagar</h2>
                            <p class="text-slate-500 mb-6">Selecciona una opción para confirmar tu reserva.</p>
                            <div class="space-y-4">
                                <!-- Option 1: Transfer -->
                                <div class="p-4 bg-stone-50 rounded-lg border">
                                    <h3 class="font-semibold text-slate-800">Transferencia Bancaria</h3>
                                    <p class="text-sm text-slate-600 mt-1">Puedes transferir a los siguientes datos:</p>
                                    <div class="mt-3 p-3 bg-slate-100 text-left rounded-md space-y-2">
                                        <div><span class="font-bold text-slate-800">Alias:</span> <span class="font-mono text-slate-900">lasanforasapart</span></div>
                                        <div><span class="font-bold text-slate-800">Titular:</span> <span class="font-mono text-slate-900">Alicia Andrea Zalazar</span></div>
                                        <div><span class="font-bold text-slate-800">Banco:</span> <span class="font-mono text-slate-900">Santander</span></div>
                                    </div>
                                    <div id="transfer-amount-info" class="text-center font-bold text-teal-600 mt-3"></div>
                                </div>
                                
                                <!-- Option 2: Credit Card -->
                                <div class="p-4 bg-stone-50 rounded-lg border">
                                     <h3 class="font-semibold text-slate-800">Tarjeta de Crédito</h3>
                                     <p class="text-sm text-slate-600 mt-1">Para abonar con tarjeta y consultar planes de cuotas, contáctanos por WhatsApp y te enviaremos un link de pago seguro.</p>
                                     <button onclick="contactForCardPayment()" class="w-full mt-3 bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors">Contactar por WhatsApp</button>
                                </div>
                            </div>
                            <div class="mt-6 p-3 bg-green-50 border border-green-200 rounded-lg text-center">
                                <p class="text-green-800 font-semibold">¡Importante!</p>
                                <p class="text-green-700 text-sm">Si realizaste una transferencia, no olvides enviarnos el comprobante por WhatsApp para hacer efectiva la reserva y enviarte la Factura C.</p>
                                <button id="whatsapp-button" class="mt-3 bg-green-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-600 transition-colors">Avisar Pago por WhatsApp</button>
                            </div>
                            <div class="mt-6 hidden md:flex items-center justify-center space-x-8">
                                 <button onclick="changeStep(5)" class="text-slate-600 hover:text-slate-900 font-medium">← Volver al resumen</button>
                                 <button onclick="resetAndGoToStep(1)" class="text-teal-600 hover:text-teal-800 font-medium">Cotizar de nuevo →</button>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </section>

        <!-- Gallery Section -->
        <section class="py-16 bg-white">
            <div class="container mx-auto max-w-6xl px-4">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-brand">Nuestros Dúplex</h2>
                </div>

                <!-- Duplex 2 Gallery -->
                <div class="mb-12">
                    <h3 class="text-2xl font-bold text-center mb-4">Dúplex 2 (Familiar)</h3>
                    <div class="swiper swiper-duplex2 rounded-lg shadow-lg">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide"><img src="galeria_duplex2.jpg" alt="Dúplex 2" class="w-full h-96 object-cover"></div>
                            <div class="swiper-slide"><img src="cama_duplex2.jpg" alt="Cama Dúplex 2" class="w-full h-96 object-cover"></div>
                            <div class="swiper-slide"><img src="cucheta_duplex2.jpg" alt="Cuchetas Dúplex 2" class="w-full h-96 object-cover"></div>
                            <div class="swiper-slide"><img src="cocina_duplex2.jpg" alt="Cocina Dúplex 2" class="w-full h-96 object-cover"></div>
                            <div class="swiper-slide"><img src="baño_duplex2.jpg" alt="Baño Dúplex 2" class="w-full h-96 object-cover"></div>
                            <div class="swiper-slide"><img src="palier_duplex2.jpg" alt="Palier Dúplex 2" class="w-full h-96 object-cover"></div>
                             <div class="swiper-slide"><img src="tv_duplex2.jpg" alt="TV Dúplex 2" class="w-full h-96 object-cover"></div>
                             <div class="swiper-slide"><img src="heladera_duplex2.jpg" alt="Heladera Dúplex 2" class="w-full h-96 object-cover"></div>
                        </div>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>

                <!-- Duplex 3 Gallery -->
                <div class="mb-12">
                    <h3 class="text-2xl font-bold text-center mb-4">Dúplex 3 (2 Dormitorios)</h3>
                    <div class="swiper swiper-duplex3 rounded-lg shadow-lg">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide"><img src="dormitoriogrande_duplex3.jpg" alt="Dormitorio Dúplex 3" class="w-full h-96 object-cover"></div>
                            <div class="swiper-slide"><img src="dormitoriochico_duplex3.jpg" alt="Dormitorio chico Dúplex 3" class="w-full h-96 object-cover"></div>
                            <div class="swiper-slide"><img src="cocina_duplex3.jpg" alt="Cocina Dúplex 3" class="w-full h-96 object-cover"></div>
                             <div class="swiper-slide"><img src="baño_duplex3.jpg" alt="Baño Dúplex 3" class="w-full h-96 object-cover"></div>
                            <div class="swiper-slide"><img src="palier_duplex3.jpg" alt="Palier Dúplex 3" class="w-full h-96 object-cover"></div>
                            <div class="swiper-slide"><img src="tv_duplex3.jpg" alt="TV Dúplex 3" class="w-full h-96 object-cover"></div>
                             <div class="swiper-slide"><img src="utensilio_duplex3.jpg" alt="Utensilios Dúplex 3" class="w-full h-96 object-cover"></div>
                        </div>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>

                 <!-- Common Areas Gallery -->
                <div>
                    <h3 class="text-2xl font-bold text-center mb-4">Áreas Comunes y Cancha</h3>
                    <div class="swiper swiper-common rounded-lg shadow-lg">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide"><img src="cancha.jpg" alt="Cancha de Pádel" class="w-full h-96 object-cover"></div>
                            <div class="swiper-slide"><img src="canchanoche_1.jpg" alt="Cancha de Pádel de Noche" class="w-full h-96 object-cover"></div>
                            <div class="swiper-slide"><img src="patio_general_2.jpg" alt="Patio general" class="w-full h-96 object-cover"></div>
                            <div class="swiper-slide"><img src="patio_noche.jpg" alt="Patio de noche" class="w-full h-96 object-cover"></div>
                             <div class="swiper-slide"><img src="condimientos_duplex2.jpg" alt="Condimentos" class="w-full h-96 object-cover"></div>
                        </div>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="py-20 bg-stone-100">
             <div class="container mx-auto max-w-4xl px-4 text-center">
                <h2 class="text-4xl font-brand">Lo que Dicen Nuestros Huéspedes</h2>
                 <div class="mt-10 grid md:grid-cols-2 gap-8">
                    <div class="bg-white p-6 rounded-lg shadow-lg text-left">
                        <div class="flex items-center mb-2">
                           <span class="text-yellow-400">★★★★★</span>
                        </div>
                        <p class="text-slate-600">"¡Ideal para familias! El dúplex es súper espacioso y cómodo. La ubicación es perfecta, a pasos de la playa y del centro. Pudimos dejar el auto y movernos a pie a todos lados. ¡Volveremos!"</p>
                        <p class="mt-4 font-bold text-slate-800">- Familia Ramírez</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg text-left">
                        <div class="flex items-center mb-2">
                           <span class="text-yellow-400">★★★★★</span>
                        </div>
                        <p class="text-slate-600">"La comodidad y la seguridad son destacables. El complejo está cerrado y eso nos dio mucha tranquilidad. Además, tener un supermercado a la vuelta de la esquina nos salvó varias veces. ¡100% recomendable!"</p>
                        <p class="mt-4 font-bold text-slate-800">- Sofía y Marcos</p>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-lg text-left">
                        <div class="flex items-center mb-2">
                           <span class="text-yellow-400">★★★★★</span>
                        </div>
                        <p class="text-slate-600">"Excelente ubicación, no usamos el auto en toda la estadía. La playa, los restaurantes, todo cerca. El dúplex impecable y muy bien equipado. La cancha de pádel es un plus genial para terminar el día."</p>
                        <p class="mt-4 font-bold text-slate-800">- Grupo de Amigos</p>
                    </div>
                     <div class="bg-white p-6 rounded-lg shadow-lg text-left">
                        <div class="flex items-center mb-2">
                           <span class="text-yellow-400">★★★★★</span>
                        </div>
                        <p class="text-slate-600">"Fuimos con nuestros hijos chicos y fue una maravilla. El lugar es muy seguro y tranquilo. La comodidad de tener todo a mano no tiene precio. Alicia, la dueña, súper atenta a todo. ¡Gracias!"</p>
                        <p class="mt-4 font-bold text-slate-800">- Luciana V.</p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-lg text-left md:col-span-2">
                        <div class="flex items-center mb-2">
                           <span class="text-yellow-400">★★★★★</span>
                        </div>
                        <p class="text-slate-600">"Superó nuestras expectativas. La limpieza, el equipamiento del dúplex y la ubicación son inmejorables. Es el lugar perfecto para descansar y tener todo cerca. El tour a Yacyretá, que está al lado, es imperdible."</p>
                        <p class="mt-4 font-bold text-slate-800">- Carlos y Elena</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Location Section -->
        <section id="ubicacion" class="py-20 bg-white">
            <div class="container mx-auto max-w-6xl px-4">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-brand">¿Dónde Nos Encontramos?</h2>
                    <p class="mt-2 text-slate-500">Estamos en una ubicación privilegiada en Ituzaingó, Corrientes.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div>
                        <div class="rounded-lg shadow-xl overflow-hidden">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3554.216388484196!2d-56.69225882485529!3d-27.57317792078025!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9457b3252520623d%3A0x86134b172a44843b!2sPer%C3%BA%201842%2C%20W3302%20Ituzaing%C3%B3%2C%20Corrientes!5e0!3m2!1ses-419!2sar!4v1695780370830!5m2!1ses-419!2sar" 
                                width="100%" 
                                height="450" 
                                style="border:0;" 
                                allowfullscreen="" 
                                loading="lazy" 
                                referrerpolicy="no-referrer-when-downgrade">
                            </iframe>
                        </div>
                    </div>
                    <div class="text-center md:text-left">
                        <h3 class="text-2xl font-bold">Dirección</h3>
                        <p class="mt-2 text-slate-600 text-lg">Perú 1842, W3302 Ituzaingó, Corrientes, Argentina</p>
                        <a href="https://www.google.com/maps/dir/?api=1&destination=Perú+1842,+W3302+Ituzaingó,+Corrientes" target="_blank" class="mt-6 inline-block bg-teal-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-teal-700 transition-colors">
                            Cómo Llegar
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-800 text-white py-12">
        <div class="container mx-auto max-w-6xl px-4 text-center">
            <h2 class="text-3xl font-brand">Las Ánforas</h2>
            <p class="mt-2 text-slate-400">Vení a descansar a un lugar cómodo, seguro y tranquilo.</p>
            <div class="mt-4">
                <a href="#reservar" class="text-teal-400 hover:text-teal-300">Reservar</a>
                <span class="mx-2 text-slate-500">|</span>
                <a href="#ubicacion" class="text-teal-400 hover:text-teal-300">Ubicación</a>
            </div>
            <p class="text-sm text-slate-500 mt-8">&copy; 2025 Las Anforas Apart Hotel. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Mobile Sticky Footer -->
    <div id="mobile-footer" class="md:hidden fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-t border-slate-200 p-3 z-40 transition-transform translate-y-full">
        <div class="flex justify-between items-center">
            <button id="mobile-back-btn" class="text-slate-600 font-bold py-2 px-4 rounded-lg hover:bg-slate-100">Volver</button>
            <div class="text-right">
                <p class="font-bold text-lg" id="mobile-price-display">Desde...</p>
                <p class="text-sm text-slate-500" id="mobile-step-display">Paso 1 de 6</p>
            </div>
            <button id="mobile-next-btn" class="bg-teal-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-teal-700 disabled:bg-slate-300 disabled:cursor-not-allowed">Siguiente</button>
        </div>
    </div>
    
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script>
        // --- ALL JAVASCRIPT LOGIC IS HERE ---
        const bookingState = {
            step: 1, duplex: null, checkIn: null, checkOut: null, guests: 2, padelHours: 0, lateCheckout: false,
            pets: 'no', vehicles: 'no', bringOwnTowels: false, babies: 0, firstName: '', lastName: '', phone: '', email: '', sendEmail: false, quote: {}
        };
        const DUPLEX_CONFIG = {
            duplex3: { name: 'Dúplex 3 (2 Dorms)', minGuests: 2, maxGuests: 5, prices: { 3: 57000, 4: 65000, 5: 70000 }, beds: 4 },
            duplex2: { name: 'Dúplex 2 (Familiar)', minGuests: 2, maxGuests: 6, prices: { 6: 75000 }, beds: 5 }
        };
        const PROMO_FINDE_PRICE = 140000;
        const PADEL_PRICE_PER_HOUR = 10000;
        const HOTEL_PHONE_NUMBER = '5493786410535'; 
        const TOWEL_DISCOUNT_PER_BED = 2000;
        const BLOCKED_DATES = {
            duplex3: [ { start: new Date('2025-09-26T12:00:00Z'), end: new Date('2025-12-31T12:00:00Z') } ],
            duplex2: [ { start: new Date('2025-12-01T12:00:00Z'), end: new Date('2025-12-31T12:00:00Z') } ]
        };
        const steps = Array.from(document.getElementById('booking-app').querySelectorAll('.step-transition'));
        const progressIndicator = document.getElementById('progress-indicator');
        const guestsSelect = document.getElementById('guests-select');
        const babiesSelect = document.getElementById('babies-select');
        const padelInput = document.getElementById('padel');
        const petsSelect = document.getElementById('pets-select');
        const vehiclesSelect = document.getElementById('vehicles-select');
        const lateCheckoutInput = document.getElementById('late-checkout');
        const lateCheckoutContainer = document.getElementById('late-checkout-container');
        const towelDiscountCheckbox = document.getElementById('towel-discount-checkbox');
        const dateSubtitle = document.getElementById('date-subtitle');
        const firstNameInput = document.getElementById('first-name');
        const lastNameInput = document.getElementById('last-name');
        const phoneInput = document.getElementById('phone');
        const emailCheckbox = document.getElementById('send-email-checkbox');
        const emailInputContainer = document.getElementById('email-input-container');
        const emailInput = document.getElementById('email');
        const mobileFooter = document.getElementById('mobile-footer');
        const mobileBackBtn = document.getElementById('mobile-back-btn');
        const mobileNextBtn = document.getElementById('mobile-next-btn');
        const mobilePriceDisplay = document.getElementById('mobile-price-display');
        const mobileStepDisplay = document.getElementById('mobile-step-display');
        const infoNextBtn = document.getElementById('info-next-btn');
        const isPromoFindeActive = () => new Date() < new Date('2026-01-01T00:00:00Z');
        const formatCurrency = (value) => new Intl.NumberFormat('es-AR', { style: 'currency', currency: 'ARS', minimumFractionDigits: 0 }).format(value);

        function isDateBlocked(date) {
            if (!bookingState.duplex) return false;
            const blockedPeriods = BLOCKED_DATES[bookingState.duplex];
            if (!blockedPeriods) return false;
            for (const period of blockedPeriods) {
                const dateOnly = new Date(date); dateOnly.setUTCHours(0, 0, 0, 0);
                const startOnly = new Date(period.start); startOnly.setUTCHours(0, 0, 0, 0);
                const endOnly = new Date(period.end); endOnly.setUTCHours(0, 0, 0, 0);
                if (dateOnly >= startOnly && dateOnly <= endOnly) { return true; }
            }
            return false;
        }

        function getTowelDiscountAmount(duplex, guests, bringOwnTowels) {
            if (!bringOwnTowels) return 0;
            
            let bedsUsed = 0;
            if (duplex === 'duplex3') { // 1 matrimonial, 3 singles
                if (guests <= 2) bedsUsed = 1;
                else if (guests === 3) bedsUsed = 2;
                else if (guests === 4) bedsUsed = 3;
                else if (guests >= 5) bedsUsed = 4;
            } else if (duplex === 'duplex2') { // 1 matrimonial, 4 singles (2 cuchetas)
                if (guests <= 2) bedsUsed = 1;
                else if (guests === 3) bedsUsed = 2;
                else if (guests === 4) bedsUsed = 3;
                else if (guests === 5) bedsUsed = 4;
                else if (guests >= 6) bedsUsed = 5;
            }
            
            return bedsUsed * TOWEL_DISCOUNT_PER_BED;
        }

        function checkStayIncludesWeekend(checkIn, checkOut) {
            let includesWeekend = false;
            let d = new Date(checkIn);
            while (d < checkOut) {
                if (d.getUTCDay() === 5 || d.getUTCDay() === 6) {
                    includesWeekend = true;
                    break;
                }
                d.setUTCDate(d.getUTCDate() + 1);
            }
            return includesWeekend;
        }

        function calculateDynamicPrice() {
            const { duplex, checkIn, checkOut, guests, padelHours, lateCheckout, bringOwnTowels } = bookingState;
            if (!duplex || !checkIn || !checkOut) return null;
            const config = DUPLEX_CONFIG[duplex];
            let pricePerNight = (duplex === 'duplex3') ? (guests <= 3 ? config.prices[3] : (guests === 4 ? config.prices[4] : config.prices[5])) : config.prices[6];
            let nights = (checkOut - checkIn) / 86400000;
            
            let promoDiscount = 0;
            if (isPromoFindeActive() && checkStayIncludesWeekend(checkIn, checkOut)) {
                promoDiscount = pricePerNight; // Discount of one night
            }

            const accommodationCost = nights * pricePerNight;
            const longStayDiscount = (promoDiscount > 0 || nights < 7) ? 0 : (accommodationCost * 0.10);
            const padelCost = padelHours * (PADEL_PRICE_PER_HOUR * 0.80);
            const lateCheckoutCost = lateCheckout ? pricePerNight * 0.20 : 0;
            const towelDiscount = getTowelDiscountAmount(duplex, guests, bringOwnTowels);
            const total = (accommodationCost - promoDiscount - longStayDiscount - towelDiscount) + padelCost + lateCheckoutCost;
            return total;
        }
        
        function updateMobileFooter() {
            if (bookingState.step === 1 || bookingState.step > steps.length) {
                mobileFooter.classList.add('translate-y-full'); return;
            }
            mobileFooter.classList.remove('translate-y-full');
            mobileStepDisplay.textContent = `Paso ${bookingState.step} de ${steps.length}`;
            mobileBackBtn.style.visibility = bookingState.step > 1 ? 'visible' : 'hidden';
            const totalPrice = calculateDynamicPrice();
            if (totalPrice !== null) {
                mobilePriceDisplay.textContent = formatCurrency(totalPrice);
            } else {
                mobilePriceDisplay.textContent = 'Calculando...';
            }
            mobileNextBtn.disabled = false;
            if (bookingState.step === 2 && !(bookingState.checkIn && bookingState.checkOut)) mobileNextBtn.disabled = true;
            if (bookingState.step === 4 && !(bookingState.firstName && bookingState.lastName && bookingState.phone)) mobileNextBtn.disabled = true;
        }
        
        function mobileGoBack() {
             if (bookingState.step > 1) { changeStep(bookingState.step - 1); }
        }

        function mobileGoNext() {
            const currentStep = bookingState.step;
            if (currentStep < 4) { changeStep(currentStep + 1); }
            else if (currentStep === 4) { calculateQuote(); changeStep(5); }
            else if (currentStep === 5) { preparePayment(); changeStep(6); }
        }

        function updatePromoAlert() {
            const promoAlert = document.getElementById('promo-alert');
            const promoAlertText = document.getElementById('promo-alert-text');
            const { checkIn, checkOut } = bookingState;
            if (!promoAlert || !promoAlertText || !checkIn || !checkOut) {
                if(promoAlert) promoAlert.classList.add('hidden');
                return;
            }
            const nights = (checkOut - checkIn) / 86400000;
            const isPromoApplied = isPromoFindeActive() && checkStayIncludesWeekend(checkIn, checkOut);
            if (isPromoApplied) { promoAlert.classList.add('hidden'); return; }
            if (nights >= 7) {
                promoAlertText.innerHTML = `Por tu estadía de <b>${nights} noches</b>, obtienes un <b>10% de descuento</b> y <b>${nights} horas de pádel GRATIS</b>.`;
                promoAlert.classList.remove('hidden');
            } else if (nights >= 5) {
                promoAlertText.innerHTML = `¡Genial! Por quedarte <b>${nights} noches</b>, te regalamos <b>${nights} horas de pádel</b>.`;
                promoAlert.classList.remove('hidden');
            } else {
                promoAlert.classList.add('hidden');
            }
        }

        function changeStep(targetStep) {
            steps.forEach((step, index) => {
                if ((index + 1) === targetStep) { step.classList.remove('step-hidden'); } 
                else { step.classList.add('step-hidden'); }
            });
            bookingState.step = targetStep;
            if (targetStep === 3) { updatePromoAlert(); }
            updateMobileFooter();
            updateProgressBar();
        }
        
        function updateProgressBar() {
            if (progressIndicator) {
                const progress = (bookingState.step / steps.length) * 100;
                progressIndicator.style.width = `${progress}%`;
            }
        }

        function resetBookingState() {
            Object.assign(bookingState, {
                step: 1, duplex: null, checkIn: null, checkOut: null, guests: 2, padelHours: 0, lateCheckout: false,
                pets: 'no', vehicles: 'no', bringOwnTowels: false, babies: 0, firstName: '', lastName: '', phone: '', email: '', sendEmail: false, quote: {}
            });
            guestsSelect.innerHTML = '';
            babiesSelect.innerHTML = '';
            padelInput.value = 0;
            petsSelect.value = 'no';
            vehiclesSelect.value = 'no';
            lateCheckoutInput.checked = false;
            towelDiscountCheckbox.checked = false;
            firstNameInput.value = '';
            lastNameInput.value = '';
            phoneInput.value = '';
            emailInput.value = '';
            emailCheckbox.checked = false;
            emailInputContainer.classList.add('hidden');
            lateCheckoutContainer.style.display = 'none';
            if(calendar.dateNextBtn) calendar.dateNextBtn.disabled = true;
            dateSubtitle.textContent = "Elige tu fecha de llegada y salida.";
            document.getElementById('promo-alert').classList.add('hidden');
            updateMobileFooter();
        }

        function resetAndGoToStep(step) {
            resetBookingState();
            changeStep(step);
        }

        function updateGuestOptions() {
            const config = DUPLEX_CONFIG[bookingState.duplex];
            const currentGuests = parseInt(guestsSelect.value);
            const currentBabies = parseInt(babiesSelect.value);
            const maxBabies = config.maxGuests - currentGuests;
            babiesSelect.innerHTML = '';
            for (let i = 0; i <= maxBabies; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = i;
                babiesSelect.appendChild(option);
            }
            if (currentBabies > maxBabies) {
                babiesSelect.value = maxBabies;
                bookingState.babies = maxBabies;
            } else {
                babiesSelect.value = currentBabies;
            }
            updateMobileFooter();
        }

        function selectDuplex(duplexType) {
            bookingState.duplex = duplexType;
            bookingState.checkIn = null;
            bookingState.checkOut = null;
            if(calendar.dateNextBtn) calendar.dateNextBtn.disabled = true;
            const config = DUPLEX_CONFIG[duplexType];
            guestsSelect.innerHTML = '';
            for (let i = config.minGuests; i <= config.maxGuests; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = `${i}`;
                guestsSelect.appendChild(option);
            }
            bookingState.guests = config.minGuests;
            guestsSelect.value = config.minGuests;
            bookingState.babies = 0;
            if (isPromoFindeActive()) {
                dateSubtitle.textContent = "¡Vení 3 días y pagá sólo 2! La promo es 3x2.";
            } else {
                dateSubtitle.textContent = "Elige tu fecha de llegada y salida.";
            }
            updateGuestOptions();
            changeStep(2);
            generateCalendar();
        }

        function attachEventListeners() {
            guestsSelect.addEventListener('change', (e) => { 
                bookingState.guests = parseInt(e.target.value, 10); 
                updateGuestOptions();
            });
            babiesSelect.addEventListener('change', (e) => {
                bookingState.babies = parseInt(e.target.value, 10);
                updateMobileFooter();
            });
            padelInput.addEventListener('input', (e) => { bookingState.padelHours = parseInt(e.target.value, 10) || 0; updateMobileFooter(); });
            petsSelect.addEventListener('change', (e) => { bookingState.pets = e.target.value; });
            vehiclesSelect.addEventListener('change', (e) => { bookingState.vehicles = e.target.value; });
            lateCheckoutInput.addEventListener('change', (e) => { bookingState.lateCheckout = e.target.checked; updateMobileFooter(); });
            towelDiscountCheckbox.addEventListener('change', (e) => { bookingState.bringOwnTowels = e.target.checked; updateMobileFooter(); });
            emailCheckbox.addEventListener('change', (e) => {
                bookingState.sendEmail = e.target.checked;
                emailInputContainer.classList.toggle('hidden', !e.target.checked);
            });
            emailInput.addEventListener('input', (e) => { bookingState.email = e.target.value; });
            
            const validateInfo = () => {
                bookingState.firstName = firstNameInput.value;
                bookingState.lastName = lastNameInput.value;
                bookingState.phone = phoneInput.value;
                const isValid = bookingState.firstName.trim() !== '' && bookingState.lastName.trim() !== '' && bookingState.phone.trim() !== '';
                infoNextBtn.disabled = !isValid;
                mobileNextBtn.disabled = !isValid;
            };

            firstNameInput.addEventListener('input', validateInfo);
            lastNameInput.addEventListener('input', validateInfo);
            phoneInput.addEventListener('input', validateInfo);
            mobileNextBtn.addEventListener('click', mobileGoNext);
            mobileBackBtn.addEventListener('click', mobileGoBack);
        }

        const calendar = {
            container: document.getElementById('calendar-grid'),
            monthYearEl: document.getElementById('month-year'),
            nextBtn: document.getElementById('next-month'),
            prevBtn: document.getElementById('prev-month'),
            dateNextBtn: document.getElementById('date-next-btn'),
            currentDate: new Date('2025-10-01T12:00:00Z'),
            minDate: new Date('2025-10-01T12:00:00Z'),
            maxDate: new Date('2026-03-31T12:00:00Z'),
        };

        function generateCalendar() {
            if (!calendar.container) return;
            calendar.container.innerHTML = '';
            const year = calendar.currentDate.getUTCFullYear();
            const month = calendar.currentDate.getUTCMonth();
            calendar.monthYearEl.textContent = `${calendar.currentDate.toLocaleString('es-ES', { month: 'long', year: 'numeric' })}`;
            ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sá'].forEach(day => {
                const dayEl = document.createElement('div');
                dayEl.className = 'font-semibold text-slate-500 text-sm';
                dayEl.textContent = day;
                calendar.container.appendChild(dayEl);
            });
            const firstDayOfMonth = new Date(Date.UTC(year, month, 1)).getUTCDay();
            const daysInMonth = new Date(Date.UTC(year, month + 1, 0)).getUTCDate();
            for (let i = 0; i < firstDayOfMonth; i++) calendar.container.appendChild(document.createElement('div'));
            for (let day = 1; day <= daysInMonth; day++) {
                const dayEl = document.createElement('div');
                const date = new Date(Date.UTC(year, month, day));
                dayEl.className = 'calendar-day p-2 rounded-full cursor-pointer';
                dayEl.textContent = day;
                const isOutOfRange = date < new Date(Date.UTC(calendar.minDate.getUTCFullYear(), calendar.minDate.getUTCMonth(), 1)) || date > calendar.maxDate;
                const blocked = isDateBlocked(date);
                if (isOutOfRange || blocked) {
                    dayEl.classList.add('disabled');
                } else {
                    dayEl.onclick = () => selectDate(date);
                }
                if (bookingState.checkIn && date.getTime() === bookingState.checkIn.getTime()) dayEl.classList.add('selected', 'start-range');
                if (bookingState.checkOut && date.getTime() === bookingState.checkOut.getTime()) dayEl.classList.add('selected', 'end-range');
                if (bookingState.checkIn && bookingState.checkOut && date > bookingState.checkIn && date < bookingState.checkOut) dayEl.classList.add('in-range');
                calendar.container.appendChild(dayEl);
            }
            updateCalendarNav();
        }

        function updateCalendarNav() {
            const currentMonthStart = new Date(Date.UTC(calendar.currentDate.getUTCFullYear(), calendar.currentDate.getUTCMonth(), 1));
            const minMonthStart = new Date(Date.UTC(calendar.minDate.getUTCFullYear(), calendar.minDate.getUTCMonth(), 1));
            calendar.prevBtn.disabled = currentMonthStart <= minMonthStart;
            calendar.prevBtn.classList.toggle('opacity-50', calendar.prevBtn.disabled);
            const maxMonthStart = new Date(Date.UTC(calendar.maxDate.getUTCFullYear(), calendar.maxDate.getUTCMonth(), 1));
            calendar.nextBtn.disabled = currentMonthStart >= maxMonthStart;
            calendar.nextBtn.classList.toggle('opacity-50', calendar.nextBtn.disabled);
        }
        
        function selectDate(date) {
            if (!bookingState.checkIn || (bookingState.checkIn && bookingState.checkOut)) {
                bookingState.checkIn = date; bookingState.checkOut = null;
            } else if (date > bookingState.checkIn) {
                bookingState.checkOut = date;
            } else {
                bookingState.checkIn = date; bookingState.checkOut = null;
            }
            const isRangeSelected = bookingState.checkIn && bookingState.checkOut;
            calendar.dateNextBtn.disabled = !isRangeSelected;
            mobileNextBtn.disabled = !isRangeSelected;
            const isPromoApplied = isPromoFindeActive() && bookingState.checkIn && bookingState.checkIn.getUTCDay() === 5 && bookingState.checkOut && ((bookingState.checkOut - bookingState.checkIn) / 86400000) >= 2;
            if (bookingState.checkOut && bookingState.checkOut.getUTCDay() === 0 && !isPromoApplied) {
                lateCheckoutContainer.style.display = 'flex';
            } else {
                lateCheckoutContainer.style.display = 'none';
                bookingState.lateCheckout = false;
                lateCheckoutInput.checked = false;
            }
            generateCalendar();
            updateMobileFooter();
        }

        if(calendar.nextBtn) calendar.nextBtn.onclick = () => { calendar.currentDate.setUTCMonth(calendar.currentDate.getUTCMonth() + 1); generateCalendar(); };
        if(calendar.prevBtn) calendar.prevBtn.onclick = () => { calendar.currentDate.setUTCMonth(calendar.currentDate.getUTCMonth() - 1); generateCalendar(); };

        function calculateQuote() {
            const { duplex, checkIn, checkOut, guests, babies, padelHours, lateCheckout, bringOwnTowels } = bookingState;
            const summaryContainer = document.getElementById('quote-summary');
            if (!duplex || !checkIn || !checkOut) {
                summaryContainer.innerHTML = `<p class="text-red-500">Faltan datos para la cotización.</p>`; return;
            }
            const config = DUPLEX_CONFIG[duplex];
            let pricePerNight = (duplex === 'duplex3') ? (guests <= 3 ? config.prices[3] : (guests === 4 ? config.prices[4] : config.prices[5])) : config.prices[6];
            let nights = (checkOut - checkIn) / 86400000;
            const isPromoWeekendStay = isPromoFindeActive() && checkIn.getUTCDay() === 5 && nights === 2;
            let promoDiscount = 0;
            let subtotalOriginal = nights * pricePerNight;
            
            if (isPromoWeekendStay) {
                promoDiscount = subtotalOriginal - PROMO_FINDE_PRICE;
            }
            const longStayDiscount = !isPromoWeekendStay && nights >= 7 ? (subtotalOriginal * 0.10) : 0;
            const padelCost = padelHours * (PADEL_PRICE_PER_HOUR * 0.80);
            const lateCheckoutCost = lateCheckout && !isPromoWeekendStay ? pricePerNight * 0.20 : 0;
            const towelDiscount = getTowelDiscountAmount(duplex, guests, bringOwnTowels);
            const total = (subtotalOriginal - promoDiscount - longStayDiscount - towelDiscount) + padelCost + lateCheckoutCost;
            const freePadelHours = nights >= 5 ? nights : 0;
            bookingState.quote = { config, nights, accommodationCost: subtotalOriginal, pricePerNight, longStayDiscount, promoDiscount, freePadelHours, padelCost, lateCheckoutCost, towelDiscount, total, isPromoApplied: (promoDiscount > 0) };
            let policiesHTML = '';
            if (checkIn.getUTCFullYear() >= 2026) {
                policiesHTML += `<li class="text-sm">Pagando el 100% al reservar, se <strong>congela la tarifa 2025</strong> para tu estadía en 2026.</li>`;
            }
            policiesHTML += `<li class="text-sm">La reserva se confirma con un adelanto del <strong>70%</strong>. El 30% restante se ajusta a la tarifa vigente al momento del check-in.</li>`;
            let checkOutTime = "12:00 hs";
            if(lateCheckout) { checkOutTime = "18:00 hs"; } 
            else if (bookingState.quote.isPromoApplied && checkOut.getUTCDay() === 0) { checkOutTime = "18:00 hs"; }

            let guestText = `${guests} Adultos/Niños`;
            if (babies > 0) {
                guestText += ` + ${babies} ${babies === 1 ? 'bebé' : 'bebés'} (sin cargo)`;
            }

            let summaryHTML = `
                <div class="p-4 bg-slate-50 rounded-lg border">
                    <p class="font-bold text-lg mb-2">${config.name}</p>
                    <p><strong>Check-in:</strong> ${checkIn.toLocaleDateString('es-ES', { day: 'numeric', month: 'long' })} - 09:00 hs</p>
                    <p><strong>Check-out:</strong> ${checkOut.toLocaleDateString('es-ES', { day: 'numeric', month: 'long' })} - ${checkOutTime}</p>
                    <p class="mt-2"><strong>Huéspedes:</strong> ${guestText}</p>
                    <p><strong>Mascotas:</strong> ${bookingState.pets.charAt(0).toUpperCase() + bookingState.pets.slice(1)} | <strong>Vehículo:</strong> ${bookingState.vehicles.charAt(0).toUpperCase() + bookingState.vehicles.slice(1)}</p>
                </div>
                ${bookingState.quote.isPromoApplied ? `<div class="mt-4 p-3 bg-amber-100 border border-amber-200 text-amber-800 rounded-lg text-center font-semibold">¡Promo Finde Aplicada!</div>` : ''}
                <div class="border-t my-4"></div>`;
            if(isPromoWeekendStay){
                const promoSubtotal = 210000;
                const promoDisc = 70000;
                const totalPromo = 140000;
                summaryHTML += `
                    <div class="flex justify-between"><span><strong>TOTAL DE LA ESTADÍA (3 DÍAS)</strong></span><span class="font-medium">${formatCurrency(promoSubtotal)}</span></div>
                    <div class="flex justify-between text-green-600 pl-2"><span>Descuento Promo "Vení 3, pagá 2"</span><span class="font-medium">-${formatCurrency(promoDisc)}</span></div>
                    <div class="border-t my-2"></div>
                    <div class="flex justify-between text-xl font-bold text-teal-700"><span>TOTAL ESTADÍA (pagás solo 2 días)</span><span>${formatCurrency(totalPromo)}</span></div>
                `;
            } else {
                 summaryHTML += `
                    <div class="flex justify-between"><span>Alojamiento (${nights} ${nights === 1 ? 'noche' : 'noches'})</span><span class="font-medium">${formatCurrency(subtotalOriginal)}</span></div>
                    <div class="flex justify-between text-sm text-slate-500 pl-2"><span>Tarifa por noche</span><span class="font-medium">${formatCurrency(pricePerNight)}</span></div>
                `;
            }
            summaryHTML += `
                ${longStayDiscount > 0 ? `<div class="flex justify-between text-green-600 pl-2"><span>Descuento (+7 noches)</span><span class="font-medium">-${formatCurrency(longStayDiscount)}</span></div>` : ''}
                ${towelDiscount > 0 ? `<div class="flex justify-between text-green-600 pl-2"><span>Descuento Sábanas/Toallones</span><span class="font-medium">-${formatCurrency(towelDiscount)}</span></div>` : ''}
                <div class="border-t my-2"></div>
                ${freePadelHours > 0 ? `<div class="flex justify-between text-green-600"><span>Promo: ${freePadelHours}hs de Pádel</span><span class="font-medium">GRATIS</span></div>` : ''}
                ${padelCost > 0 ? `<div class="flex justify-between"><span>Pádel Adicional (${padelHours}hs)</span><span class="font-medium">${formatCurrency(padelCost)}</span></div>` : ''}
                ${lateCheckoutCost > 0 ? `<div class="flex justify-between"><span>Adicional Salida Extendida</span><span class="font-medium">${formatCurrency(lateCheckoutCost)}</span></div>` : ''}
                <div class="border-t my-4"></div>
                <div class="flex justify-between text-xl font-bold"><span>TOTAL</span><span>${formatCurrency(total)}</span></div>
                <div class="mt-4 p-3 bg-teal-50 border border-teal-200 rounded-lg">
                    <h4 class="font-semibold text-teal-800">Políticas de Pago</h4>
                    <ul class="list-disc list-inside text-teal-700">${policiesHTML}</ul>
                </div>`;
            document.getElementById('quote-summary').innerHTML = summaryHTML;
            updateMobileFooter();
        }

        function preparePayment() {
            const { total, config, nights, isPromoApplied, towelDiscount } = bookingState.quote;
            const { checkIn, checkOut, guests, babies, pets, vehicles, firstName, lastName, phone } = bookingState;
            const advanceAmount = total * 0.70;
            const totalAmount = total;
            const transferInfo = document.getElementById('transfer-amount-info');
            let transferHTML = `<p><b>Adelanto (70%):</b> ${formatCurrency(advanceAmount)}</p>`;
            if (checkIn.getUTCFullYear() >= 2026) {
                transferHTML += `<div class="mt-4 p-3 bg-emerald-50 border border-emerald-200 rounded-md">
                    <h4 class="font-bold text-emerald-800">¡Asegurá y Ahorrá!</h4>
                    <p class="text-sm text-emerald-700">Pagá el <b>Total (100%): ${formatCurrency(totalAmount)}</b> y congelá la tarifa vigente para tus vacaciones.</p>
                </div>`;
            }
            transferInfo.innerHTML = transferHTML;

            const promoText = isPromoApplied ? '\n- PROMO FINDE APLICADA' : '';
            const towelText = towelDiscount > 0 ? '\n- Ahorro sábanas/toallones' : '';
            let guestText = `${guests} Adultos/Niños`;
            if (babies > 0) {
                guestText += ` + ${babies} ${babies === 1 ? 'bebé' : 'bebés'}`;
            }
            let emailText = '';
            if (bookingState.sendEmail && bookingState.email) {
                emailText = `\n- Enviar copia a: ${bookingState.email}`;
            }
            const whatsappMessage = `¡Hola! Quiero confirmar mi reserva y enviar el comprobante de pago.
*Datos del Huésped:*
- Nombre: ${firstName} ${lastName}
- Celular: ${phone}${emailText}
*Detalles de la Reserva:*${promoText}${towelText}
- Dúplex: ${config.name}
- Check-in: ${checkIn.toLocaleDateString('es-ES', { day: 'numeric', month: 'long' })} - 09:00 hs
- Check-out: ${checkOut.toLocaleDateString('es-ES', { day: 'numeric', month: 'long' })} - ${(bookingState.lateCheckout || (isPromoApplied && checkOut.getUTCDay() === 0)) ? '18:00 hs' : '12:00 hs'}
- Noches: ${nights}
- Huéspedes: ${guestText}
- Mascotas: ${pets.charAt(0).toUpperCase() + pets.slice(1)}
- Vehículo: ${vehicles.charAt(0).toUpperCase() + vehicles.slice(1)}
- Total cotizado: ${formatCurrency(total)}
*Adjunto el comprobante del pago (70% o 100%).*
¡Gracias!`;
            const whatsappUrl = `https://wa.me/${HOTEL_PHONE_NUMBER}?text=${encodeURIComponent(whatsappMessage)}`;
            document.getElementById('whatsapp-button').onclick = () => window.open(whatsappUrl, '_blank');
        }

        function contactForCardPayment() {
            const { total, config } = bookingState.quote;
            const { firstName, lastName } = bookingState;
            const message = `¡Hola! Estoy interesado/a en abonar mi reserva para el ${config.name} con tarjeta de crédito. Mi nombre es ${firstName} ${lastName} y el total es de ${formatCurrency(total)}. ¿Podrían enviarme el link de pago? ¡Gracias!`;
            const whatsappUrl = `https://wa.me/${HOTEL_PHONE_NUMBER}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            if (isPromoFindeActive()) {
                document.getElementById('promo-badge').classList.remove('hidden');
            }
            attachEventListeners();
            updateProgressBar();
            new Swiper(".swiper-duplex2", {
                loop: true, autoplay: { delay: 4000, disableOnInteraction: false },
                pagination: { el: ".swiper-duplex2 .swiper-pagination", clickable: true },
                navigation: { nextEl: ".swiper-duplex2 .swiper-button-next", prevEl: ".swiper-duplex2 .swiper-button-prev" }
            });
             new Swiper(".swiper-duplex3", {
                loop: true, autoplay: { delay: 4500, disableOnInteraction: false },
                pagination: { el: ".swiper-duplex3 .swiper-pagination", clickable: true },
                navigation: { nextEl: ".swiper-duplex3 .swiper-button-next", prevEl: ".swiper-duplex3 .swiper-button-prev" }
            });
             new Swiper(".swiper-common", {
                loop: true, autoplay: { delay: 5000, disableOnInteraction: false },
                pagination: { el: ".swiper-common .swiper-pagination", clickable: true },
                navigation: { nextEl: ".swiper-common .swiper-button-next", prevEl: ".swiper-common .swiper-button-prev" }
            });
        });
    </script>
</body>
</html>

